const charid=window.location.href.match(/https:\/\/www\.dndbeyond\.com\/characters\/(\d+)/)[1];fetch(`https://character-service.dndbeyond.com/character/v5/character/${charid}?includeCustomItems=true`).then(e=>e.text()).then(e=>{let t=JSON.parse(e).data,a=t.name,c=t.classes.length>1?"multi"+t.classes.map(e=>e.definition.name).join(""):t.classes[0].definition.name,n=`${c}_${a.replace(" ","_")}.json`,r="data:text/json;charset=utf-8,"+encodeURIComponent(e);var s=document.createElement("a");s.setAttribute("href",r),s.setAttribute("download",n),document.body.appendChild(s),s.click(),s.remove()});